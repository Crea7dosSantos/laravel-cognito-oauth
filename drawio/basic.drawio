<mxfile host="65bd71144e">
    <diagram id="1soHTAdgJ36US9EffheI" name="Page-1">
        <mxGraphModel dx="845" dy="2602" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="190" y="-170" width="1350" height="1270" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="" style="endArrow=none;html=1;strokeColor=#000000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="300" y="1050" as="sourcePoint"/>
                        <mxPoint x="300" y="50" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4" value="" style="endArrow=none;html=1;strokeColor=#000000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="550" y="1050" as="sourcePoint"/>
                        <mxPoint x="550" y="50" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="6" value="" style="endArrow=none;html=1;strokeColor=#000000;startArrow=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1300" y="1050" as="sourcePoint"/>
                        <mxPoint x="1300" y="50" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="7" value="" style="endArrow=none;html=1;strokeColor=#000000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1050" y="1050" as="sourcePoint"/>
                        <mxPoint x="1050" y="50" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="8" value="リソースオーナー" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;strokeColor=#CC0000;fontColor=#000000;fillColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="286" y="-40" width="30" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="Cognito" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#CC0000;fontColor=#000000;fillColor=#FFFF99;" parent="1" vertex="1">
                    <mxGeometry x="1010" y="-10" width="70" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="リライング・パーティ" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#CC0000;fontColor=#000000;fillColor=#FFFF99;" parent="1" vertex="1">
                    <mxGeometry x="483" y="-10" width="130" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="認可サーバー" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#CC0000;fontColor=#000000;fillColor=#FFFF99;" parent="1" vertex="1">
                    <mxGeometry x="749" y="-10" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="リソースサーバー" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#CC0000;fontColor=#000000;fillColor=#FFFF99;" parent="1" vertex="1">
                    <mxGeometry x="1241" y="-10" width="120" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="" style="endArrow=none;html=1;strokeColor=#000000;startArrow=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="800" y="1050" as="sourcePoint"/>
                        <mxPoint x="800" y="50" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="15" value="" style="endArrow=classic;html=1;strokeColor=#CC0000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="560" y="100" as="sourcePoint"/>
                        <mxPoint x="1290" y="100" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="16" value="1. リソースへのアクセス" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="570" y="70" width="140" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="&lt;span&gt;3. 認証失敗（401ステータスコード）&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="570" y="120" width="210" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="" style="endArrow=classic;html=1;strokeColor=#CC0000;dashed=1;dashPattern=1 4;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1290" y="151" as="sourcePoint"/>
                        <mxPoint x="564" y="151" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="19" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="314.0000000000002" y="298" as="sourcePoint"/>
                        <mxPoint x="790" y="298" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="20" value="5. 認証リクエスト（&lt;span style=&quot;text-align: center&quot;&gt;リライング・パーティ&lt;/span&gt;がstate・code_chaleengeを付与して&lt;br&gt;ブラウザを介してリクエスト）" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="315" y="255" width="245" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="21" value="認可エンドポイント" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#CC0000;fontColor=#000000;labelBackgroundColor=none;labelBorderColor=none;fillColor=#FFFF33;" parent="1" vertex="1">
                    <mxGeometry x="810" y="282" width="120" height="29" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;dashed=1;dashPattern=1 4;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="790" y="347" as="sourcePoint"/>
                        <mxPoint x="315" y="347" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="23" value="6. 認証画面" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="317" y="319" width="160" height="21" as="geometry"/>
                </mxCell>
                <mxCell id="24" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="314.99999999999955" y="398" as="sourcePoint"/>
                        <mxPoint x="790" y="398" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="25" value="&lt;span&gt;7. 認証情報入力&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="315" y="366" width="215" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="9. アクセストークン・&lt;br&gt;IDトークン（JWT）・&lt;br&gt;更新トークンの発行" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="810" y="487" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="38" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;dashed=1;dashPattern=1 4;exitX=0.548;exitY=0.69;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1039.4" y="535" as="sourcePoint"/>
                        <mxPoint x="811" y="535.5999999999999" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="40" value="10.IDトークン(JWT)の検証・&lt;br&gt;認可コード発行" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="860" y="596" width="180" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;dashed=1;dashPattern=1 4;exitX=0.548;exitY=0.69;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.08;entryY=0.697;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="790" y="643.0000000000005" as="sourcePoint"/>
                        <mxPoint x="310" y="643.8000000000002" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="42" value="トークンエンドポイント" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#CC0000;fontColor=#000000;labelBackgroundColor=none;labelBorderColor=none;fillColor=#FFFF33;" parent="1" vertex="1">
                    <mxGeometry x="811" y="822" width="160" height="29" as="geometry"/>
                </mxCell>
                <mxCell id="43" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="563.25" y="836" as="sourcePoint"/>
                        <mxPoint x="791" y="836" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="44" value="&lt;font color=&quot;#000000&quot; face=&quot;helvetica&quot;&gt;14. トークンリクエスト&lt;/font&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34;&quot;&gt;（code_verifierを付与）&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="562" y="793" width="200" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="15. アクセストークン（JWT）・&lt;br&gt;更新トークンの発行" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="562" y="868" width="188" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="46" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;dashed=1;dashPattern=1 4;exitX=0.548;exitY=0.69;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="788.4000000000001" y="913.0000000000001" as="sourcePoint"/>
                        <mxPoint x="560" y="913.6000000000005" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="47" value="" style="endArrow=classic;html=1;strokeColor=#CC0000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="562" y="966" as="sourcePoint"/>
                        <mxPoint x="1292" y="966" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="48" value="16. リソースへのアクセス" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="563" y="934" width="148" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="&lt;span&gt;18. リソース取得&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="566" y="991" width="210" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="" style="endArrow=classic;html=1;strokeColor=#CC0000;dashed=1;dashPattern=1 4;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1288" y="1018.0000000000005" as="sourcePoint"/>
                        <mxPoint x="562" y="1018.0000000000005" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="51" value="ユーザー名・パスワードの組み合わせでOIDC認証する場合" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="270" y="-110" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="2. 期限切れアクセストークン（JWT）の検証" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="1350" y="151" width="160" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="17.アクセストークン（JWT）&lt;br&gt;の検証" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="1340" y="1010" width="170" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="57" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; display: inline ; float: none&quot;&gt;11. 認証レスポンス（認可コード）&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="310" y="610" width="200" height="24" as="geometry"/>
                </mxCell>
                <mxCell id="58" value="" style="endArrow=none;html=1;strokeColor=#CC0000;startArrow=blockThin;startFill=1;rounded=0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="810" y="585" as="sourcePoint"/>
                        <mxPoint x="810" y="565" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="880" y="585"/>
                            <mxPoint x="880" y="565"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="59" value="" style="endArrow=none;html=1;strokeColor=#CC0000;startArrow=blockThin;startFill=1;rounded=0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1306" y="140" as="sourcePoint"/>
                        <mxPoint x="1306" y="120" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="1376" y="140"/>
                            <mxPoint x="1376" y="120"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="60" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="310.9999999999998" y="691.5700000000002" as="sourcePoint"/>
                        <mxPoint x="540" y="691.9999999999995" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="61" value="12. リダイレクトコールバック" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="316" y="668" width="169" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="62" value="リダイレクトURI" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#CC0000;fontColor=#000000;labelBackgroundColor=none;labelBorderColor=none;fillColor=#FFFF33;" parent="1" vertex="1">
                    <mxGeometry x="562" y="674" width="120" height="29" as="geometry"/>
                </mxCell>
                <mxCell id="63" value="" style="endArrow=none;html=1;strokeColor=#CC0000;startArrow=blockThin;startFill=1;rounded=0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1310" y="1000" as="sourcePoint"/>
                        <mxPoint x="1310" y="980" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="1380" y="1000"/>
                            <mxPoint x="1380" y="980"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="69" value="" style="endArrow=classic;html=1;fontColor=#000000;strokeColor=#CC0000;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="810" y="453" as="sourcePoint"/>
                        <mxPoint x="1037.75" y="453" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="70" value="&lt;font color=&quot;#000000&quot; face=&quot;helvetica&quot;&gt;8. Cognito APIを利用して、認証の実行&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="810" y="421" width="220" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="72" style="edgeStyle=none;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.207;entryY=0.48;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="20" target="20" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="73" value="4. state・code_verifier・code_challengeを生成" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="604" y="213" width="146" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="74" value="" style="endArrow=none;html=1;strokeColor=#CC0000;startArrow=blockThin;startFill=1;rounded=0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="554" y="202" as="sourcePoint"/>
                        <mxPoint x="554" y="182" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="624" y="202"/>
                            <mxPoint x="624" y="182"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="75" value="13. stateの検証" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;labelBorderColor=none;fontColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="609" y="761" width="140" height="17" as="geometry"/>
                </mxCell>
                <mxCell id="76" value="" style="endArrow=none;html=1;strokeColor=#CC0000;startArrow=blockThin;startFill=1;rounded=0;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="559" y="749.9999999999995" as="sourcePoint"/>
                        <mxPoint x="559" y="729.9999999999995" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="629" y="750"/>
                            <mxPoint x="629" y="730"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>